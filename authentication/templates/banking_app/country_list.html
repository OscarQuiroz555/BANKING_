{% extends "base.html" %}
{% load static %}
{% block title %}Listado de Países{% endblock %}
{% block content %}
<h1>Países</h1>

<form method="get" class="mb-3">
    <input type="text" name="search" placeholder="Buscar país" value="{{ search }}">
    <button class="btn btn-primary btn-sm">Buscar</button>
    <a class="btn btn-success btn-sm" href="{% url 'banking_app:country_create' %}">Nuevo País</a>
</form>

<table class="table table-striped">
<thead>
<tr>
<th>ID</th>
<th>Nombre</th>
<th>Abrev.</th>
<th>Activo</th>
<th>Acciones</th>
</tr>
</thead>
<tbody>
{% for c in countries %}
<tr>
<td>{{ c.id }}</td>
<td>{{ c.name }}</td>
<td>{{ c.abrev }}</td>
<td>{% if c.status %}Sí{% else %}No{% endif %}</td>
<td>
<a class="btn btn-sm btn-primary" href="{% url 'banking_app:country_edit' c.id %}">Editar</a>
<a class="btn btn-sm btn-danger" href="{% url 'banking_app:country_delete' c.id %}">Eliminar</a>
</td>
</tr>
{% empty %}
<tr><td colspan="5">No hay países registrados.</td></tr>
{% endfor %}
</tbody>
</table>

<nav>
<ul class="pagination">
{% if countries.has_previous %}
<li class="page-item"><a class="page-link" href="?page={{ countries.previous_page_number }}&search={{ search }}">Anterior</a></li>
{% endif %}
<li class="page-item disabled"><span class="page-link">{{ countries.number }} de {{ countries.paginator.num_pages }}</span></li>
{% if countries.has_next %}
<li class="page-item"><a class="page-link" href="?page={{ countries.next_page_number }}&search={{ search }}">Siguiente</a></li>
{% endif %}
</ul>
</nav>

{% endblock %}
